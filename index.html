<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />

    <title>Curso VueJS - Formulário de pedido</title>
  </head>
  <body>
    <div id="app">
      <div class="container my-5">
        <h4 class="mb-3">Formulário de pedido</h4>
        <form action="#" method="POST">
          <!-- Campo Honeypot -->
          <input
            type="text"
            name="honeypot"
            style="display: none"
            tabindex="-1"
          />

          <!-- Informações Pessoais -->
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="fisrtname" class="form-label">Primeiro nome</label>
              <input
                type="text"
                class="form-control"
                id="firstname"
                placeholder="Digite seu nome"
                required
                aria-label="primeiro nome"
                v-model="firstName"
              />
            </div>
            <div class="col-md-6 mb-3">
              <label for="lastname" class="form-label">Sobrenome</label>
              <input
                type="text"
                class="form-control"
                id="lastname"
                placeholder="Digite seu sobrenome"
                required
                aria-label="sobrenome"
                v-model="lastName"
              />
            </div>
          </div>

          <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text"> @ </span>
              </div>
              <input
                type="email"
                class="form-control"
                id="email"
                placeholder="seuemail@exemplo.com"
                required
                aria-label="email"
                v-model="email"
              />
            </div>
          </div>

          <div class="mb-3">
            <label for="address" class="form-label">Endereço</label>
            <input
              type="text"
              class="form-control"
              id="address"
              placeholder="Ex: Rua das Flores, 123, Centro"
              required
              aria-label="endereço"
              v-model="address"
            />
          </div>

          <div class="row">
            <div class="col-md-5 mb-3">
              <label for="countries" class="form-label">Escolha um Pais</label>
              <select
                class="custom-select d-block w-100"
                name="countries"
                id="countries"
                aria-label="pais"
                v-model="country"
              >
                <option disabled selected>Escolha ...</option>
                <option value="BR">Brasil</option>
                <option value="US">Estados Unidos</option>
              </select>
            </div>

            <div class="col-md-4 mb-3">
              <label for="states" class="form-label">Escolha um estado</label>
              <select
                class="custom-select d-block w-100"
                id="states"
                name="states"
                aria-label="estado"
                v-model="state"
              >
                <option disabled selected>Escolha ...</option>
                <option value="RJ">Rio de Janeiro (RJ)</option>
                <option value="SP">São Paulo (SP)</option>
              </select>
            </div>

            <div class="col-md-3 mb-3">
              <label for="cep" class="form-label">CEP</label>
              <input
                type="text"
                class="form-control"
                id="cep"
                placeholder="00000-000"
                pattern="\d{5}-?\d{3}"
                aria-label="cep"
                v-model="zipCode"
              />
            </div>
          </div>

          <hr class="mb-4" />

          <div class="custom-control custom-checkbox">
            <input
              type="checkbox"
              class="custom-control-input"
              name="billaddress"
              id="billaddress"
              aria-label="mesmo endereço de cobrança"
              v-model="billAddress"
            />
            <label for="billaddress" class="custom-control-label"
              >O endereço de entrega é igual ao meu endereço de cobrança</label
            >
          </div>

          <hr class="mb-4" />

          <!-- Pagamento -->
          <h4 class="mb-3">Pagamento</h4>

          <div class="custom-control custom-radio">
            <input
              type="radio"
              name="paymentMethod"
              class="custom-control-input"
              id="debit"
              value="debit"
              checked
              required
              aria-label="debito"
              v-model="payment"
            />
            <label for="debit" class="custom-control-label">Débito</label><br />
          </div>
          <div class="custom-control custom-radio">
            <input
              type="radio"
              name="paymentMethod"
              class="custom-control-input"
              id="credit"
              value="credit"
              aria-label="credito"
              v-model="payment"
            />
            <label for="credit" class="custom-control-label">Crédito</label
            ><br />
          </div>
          <div class="custom-control custom-radio">
            <input
              type="radio"
              name="paymentMethod"
              class="custom-control-input"
              id="paypal"
              value="paypal"
              aria-label="paypal"
              v-model="payment"
            />
            <label for="paypal" class="custom-control-label">PayPal</label>
          </div>

          <hr class="mb-4" />

          <!-- Mensagem -->
          <h4 class="mb-3">Mensagem</h4>

          <div class="mb-3">
            <textarea
              name="message"
              class="form-control"
              id="message"
              rows="4"
              placeholder="Escreva sua mensagem aqui..."
              aria-label="mensagem"
              v-model="message"
            ></textarea>
          </div>

          <hr class="mb-4" />

          <!-- Botão de Envio -->
          <button
            type="submit"
            class="btn btn-primary btn-lg btn-block"
            aria-label="Enviar Pedido"
            @click="submitForm"
          >
            Enviar Pedido
          </button>
        </form>
      </div>
    </div>

    <!-- Script do JavaScript do VueJS -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3"></script>
    <script>
      const app = Vue.createApp({
        data() {
          return {
            firstName: "Humberto",
            lastName: "Luks",
            email: "Luks@gmail.com",
            address: "Rua Anita Garibaldi, 26",
            zipCode: "09560250",
            message: "mensagem OK",
            billAddress: false,
            payment: "",
            country: "",
            state: "",
          };
        },
        methods: {
          validateForm() {
            if (this.firstName.trim() === "") {
              alert("Por favor, preencha o campo Primeiro Nome.");
              return false;
            }
            if (this.lastName.trim() === "") {
              alert("Por favor, preencha o campo Sobrenome.");
              return false;
            }
            if (this.email.trim() === "" || !this.validateEmail(this.email)) {
              alert("Por favor, insira um e-mail válido.");
              return false;
            }
            if (
              this.zipCode.trim() === "" ||
              !/^\d{5}-?\d{3}$/.test(this.zipCode)
            ) {
              alert("Por favor, insira um CEP válido.");
              return false;
            }
            if (this.address.trim() === "") {
              alert("Por favor, preencha o campo Endereço.");
              return false;
            }
            return true;
          },
          validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
          },
          submitForm(event) {
            event.preventDefault(); // Evita envio automático
            if (this.validateForm()) {
              alert("Formulário enviado com sucesso!");
            }
          },
        },
      }).mount("#app");
    </script>

    <!-- Script do JavaScript do Bootstrap -->
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
